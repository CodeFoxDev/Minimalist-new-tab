const searchQuery="https://www.google.com/search?q=",linkIds={drive:"/",gmail:"/",classroom:"/h",calendar:"/"},links={drive:"https://drive.google.com/drive/u/",gmail:"https://mail.google.com/mail/u/",classroom:"https://classroom.google.com/u/",calendar:"https://calendar.google.com/calendar/u/",translate:"https://translate.google.nl/"};let defaultGoogleUser=0,defaultClockStyle=24,lastTime={h:"0",m:"0",s:"0"};function showTime(){let b=new Date;var c=24==defaultClockStyle?b.getHours().toString().padStart(2,"0"):(b.getHours()-12).toString().padStart(2,"0"),d=b.getMinutes().toString().padStart(2,"0"),e=b.getSeconds().toString().padStart(2,"0");let a=document.querySelector(".time-display");document.querySelector("#time-style").innerHTML=12==defaultClockStyle?c>12?"AM":"PM":"",c.charAt(0)!=lastTime.h.charAt(0)&&(a.querySelector("#hour1").style.opacity=0),d.charAt(0)!=lastTime.m.charAt(0)&&(a.querySelector("#min1").style.opacity=0),e.charAt(0)!=lastTime.s.charAt(0)&&(a.querySelector("#sec1").style.opacity=0),c.charAt(1)!=lastTime.h.charAt(1)&&(a.querySelector("#hour2").style.opacity=0),d.charAt(1)!=lastTime.m.charAt(1)&&(a.querySelector("#min2").style.opacity=0),e.charAt(1)!=lastTime.s.charAt(1)&&(a.querySelector("#sec2").style.opacity=0),setTimeout(()=>{a.querySelector("#hour1").innerHTML=c.charAt(0),a.querySelector("#min1").innerHTML=d.charAt(0),a.querySelector("#sec1").innerHTML=e.charAt(0),a.querySelector("#hour2").innerHTML=c.charAt(1),a.querySelector("#min2").innerHTML=d.charAt(1),a.querySelector("#sec2").innerHTML=e.charAt(1),a.querySelector("#hour1").style.opacity=1,a.querySelector("#min1").style.opacity=1,a.querySelector("#sec1").style.opacity=1,a.querySelector("#hour2").style.opacity=1,a.querySelector("#min2").style.opacity=1,a.querySelector("#sec2").style.opacity=1},250),lastTime={h:c,m:d,s:e},setTimeout(showTime,1e3)}function populateLinks(){try{chrome.storage.local.get(["defaultuser"],a=>{(defaultGoogleUser=a.defaultuser)||(defaultGoogleUser=0),Object.keys(linkIds).forEach(a=>{let b=document.querySelector("."+a);b.href=links[a]+defaultGoogleUser+linkIds[a]}),document.querySelector("input[type=number]#defaultUser").value=parseInt(defaultGoogleUser)})}catch{console.log("Failed to access local storage, do you have the right version installed?")}try{chrome.storage.local.get(["clockStyle"],a=>{defaultClockStyle=a.clockStyle??24,document.querySelector("#clockStyle").value=defaultClockStyle})}catch{console.log("Failed to access local storage, do you have the right version installed?")}}function setDefaultUser(a){chrome.storage.local.set({defaultuser:a},()=>{console.log("Changed default user to: "+a),populateLinks()})}function setClockStyle(a){chrome.storage.local.set({clockStyle:a},()=>{console.log("Changed clock style to: "+a),defaultClockStyle=a,populateLinks()})}function iniSearch(){let a=document.querySelector("form");a.querySelector("input").focus(),a.querySelectorAll("input[type=radio]").forEach(a=>{a.checked=!1}),a.addEventListener("submit",b=>{b.preventDefault(),window.location.replace("https://www.google.com/search?q="+encodeURIComponent(a.querySelector("input").value))}),a.querySelector("#type-images").addEventListener("click",b=>{window.location.replace("https://www.google.com/search?tbm=isch&q="+encodeURIComponent(a.querySelector("input").value))}),a.querySelector("#type-posts").addEventListener("click",b=>{window.location.replace("https://news.google.com/search?q="+encodeURIComponent(a.querySelector("input").value))}),a.querySelector("#type-maps").addEventListener("click",b=>{window.location.replace("https://www.google.com/maps/search/"+encodeURIComponent(a.querySelector("input").value))})}function iniOptions(){let a=document.querySelector("input[type=number]#defaultUser");a.addEventListener("change",()=>{a.value!=defaultGoogleUser&&setDefaultUser(a.value)});let b=document.querySelector("#clockStyle");b.addEventListener("change",()=>{b.value!=defaultClockStyle&&setClockStyle(b.value)}),document.getElementById("options-switch").checked=!1}window.onload=()=>{showTime(),iniSearch(),populateLinks(),iniOptions()}
